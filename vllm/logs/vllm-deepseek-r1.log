[33mTailing logs of job 11 on cluster 'benchmark'...[0m
[2m├── [0m[2mWaiting for task resources on 1 node.[0m
[2m└── [0mJob started. Streaming logs... [2m(Ctrl-C to exit log streaming; job will not be killed)[0m
[36m(vllm-benchmark, pid=7132)[0m Sun Apr 20 01:03:24 2025       
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------------------------------------------------------+
[36m(vllm-benchmark, pid=7132)[0m | NVIDIA-SMI 550.127.08             Driver Version: 550.127.08     CUDA Version: 12.4     |
[36m(vllm-benchmark, pid=7132)[0m |-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m | GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
[36m(vllm-benchmark, pid=7132)[0m | Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |               MIG M. |
[36m(vllm-benchmark, pid=7132)[0m |=========================================+========================+======================|
[36m(vllm-benchmark, pid=7132)[0m |   0  NVIDIA H200                    On  |   00000000:8D:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   31C    P0             77W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   1  NVIDIA H200                    On  |   00000000:91:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   30C    P0             77W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   2  NVIDIA H200                    On  |   00000000:95:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   30C    P0             81W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   3  NVIDIA H200                    On  |   00000000:99:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   29C    P0             78W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   4  NVIDIA H200                    On  |   00000000:AB:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   32C    P0             78W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   5  NVIDIA H200                    On  |   00000000:AF:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   30C    P0             77W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   6  NVIDIA H200                    On  |   00000000:B3:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   30C    P0             77W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m |   7  NVIDIA H200                    On  |   00000000:B7:00.0 Off |                    0 |
[36m(vllm-benchmark, pid=7132)[0m | N/A   31C    P0             78W /  700W |       1MiB / 143771MiB |      0%      Default |
[36m(vllm-benchmark, pid=7132)[0m |                                         |                        |             Disabled |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------+------------------------+----------------------+
[36m(vllm-benchmark, pid=7132)[0m                                                                                          
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------------------------------------------------------+
[36m(vllm-benchmark, pid=7132)[0m | Processes:                                                                              |
[36m(vllm-benchmark, pid=7132)[0m |  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
[36m(vllm-benchmark, pid=7132)[0m |        ID   ID                                                               Usage      |
[36m(vllm-benchmark, pid=7132)[0m |=========================================================================================|
[36m(vllm-benchmark, pid=7132)[0m |  No running processes found                                                             |
[36m(vllm-benchmark, pid=7132)[0m +-----------------------------------------------------------------------------------------+
[36m(vllm-benchmark, pid=7132)[0m Architecture:                         x86_64
[36m(vllm-benchmark, pid=7132)[0m CPU op-mode(s):                       32-bit, 64-bit
[36m(vllm-benchmark, pid=7132)[0m Address sizes:                        43 bits physical, 57 bits virtual
[36m(vllm-benchmark, pid=7132)[0m Byte Order:                           Little Endian
[36m(vllm-benchmark, pid=7132)[0m CPU(s):                               128
[36m(vllm-benchmark, pid=7132)[0m On-line CPU(s) list:                  0-127
[36m(vllm-benchmark, pid=7132)[0m Vendor ID:                            GenuineIntel
[36m(vllm-benchmark, pid=7132)[0m Model name:                           Intel(R) Xeon(R) Platinum 8468
[36m(vllm-benchmark, pid=7132)[0m CPU family:                           6
[36m(vllm-benchmark, pid=7132)[0m Model:                                143
[36m(vllm-benchmark, pid=7132)[0m Thread(s) per core:                   2
[36m(vllm-benchmark, pid=7132)[0m Core(s) per socket:                   32
[36m(vllm-benchmark, pid=7132)[0m Socket(s):                            2
[36m(vllm-benchmark, pid=7132)[0m Stepping:                             8
[36m(vllm-benchmark, pid=7132)[0m BogoMIPS:                             4200.00
[36m(vllm-benchmark, pid=7132)[0m Flags:                                fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves avx_vnni avx512_bf16 wbnoinvd arat avx512vbmi umip pku ospke waitpkg avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq la57 rdpid bus_lock_detect cldemote movdiri movdir64b fsrm md_clear serialize tsxldtrk avx512_fp16 arch_capabilities
[36m(vllm-benchmark, pid=7132)[0m Hypervisor vendor:                    KVM
[36m(vllm-benchmark, pid=7132)[0m Virtualization type:                  full
[36m(vllm-benchmark, pid=7132)[0m L1d cache:                            4 MiB (128 instances)
[36m(vllm-benchmark, pid=7132)[0m L1i cache:                            4 MiB (128 instances)
[36m(vllm-benchmark, pid=7132)[0m L2 cache:                             256 MiB (64 instances)
[36m(vllm-benchmark, pid=7132)[0m L3 cache:                             32 MiB (2 instances)
[36m(vllm-benchmark, pid=7132)[0m NUMA node(s):                         2
[36m(vllm-benchmark, pid=7132)[0m NUMA node0 CPU(s):                    0-63
[36m(vllm-benchmark, pid=7132)[0m NUMA node1 CPU(s):                    64-127
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Gather data sampling:   Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Itlb multihit:          Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability L1tf:                   Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Mds:                    Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Meltdown:               Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Mmio stale data:        Unknown: No mitigations
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Reg file data sampling: Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Retbleed:               Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Spec rstack overflow:   Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Spec store bypass:      Mitigation; Speculative Store Bypass disabled via prctl and seccomp
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Spectre v1:             Mitigation; usercopy/swapgs barriers and __user pointer sanitization
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Spectre v2:             Mitigation; Enhanced / Automatic IBRS; IBPB conditional; RSB filling; PBRSB-eIBRS SW sequence; BHI SW loop, KVM SW loop
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Srbds:                  Not affected
[36m(vllm-benchmark, pid=7132)[0m Vulnerability Tsx async abort:        Mitigation; TSX disabled
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m Waiting for vllm server to start...
[36m(vllm-benchmark, pid=7132)[0m vllm server started
[36m(vllm-benchmark, pid=7132)[0m + for pair in "1000,2000" "5000,1000" "10000,500" "30000,100" "sharegpt"
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm == trt ']'
[36m(vllm-benchmark, pid=7132)[0m + just run-scenario vllm deepseek-r1 1000,2000
[36m(vllm-benchmark, pid=7132)[0m + just _ensure-results-dir deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m mkdir -p results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm '!=' vllm ']'
[36m(vllm-benchmark, pid=7132)[0m ++ just _get-model-path deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + MODEL_PATH=deepseek-ai/DeepSeek-R1
[36m(vllm-benchmark, pid=7132)[0m ++ echo 1000,2000
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f1
[36m(vllm-benchmark, pid=7132)[0m + INPUT_LEN=1000
[36m(vllm-benchmark, pid=7132)[0m ++ echo 1000,2000
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f2
[36m(vllm-benchmark, pid=7132)[0m + OUTPUT_LEN=2000
[36m(vllm-benchmark, pid=7132)[0m + [[ '' == \s\g\l ]]
[36m(vllm-benchmark, pid=7132)[0m + [[ 1000,2000 == \s\h\a\r\e\g\p\t ]]
[36m(vllm-benchmark, pid=7132)[0m + uv run --with-requirements requirements-benchmark.txt vllm-benchmarks/benchmarks/benchmark_serving.py --model deepseek-ai/DeepSeek-R1 --dataset-name random --ignore-eos --num-prompts 50 --request-rate 10 --random-input-len 1000 --random-output-len 2000 --save-result --result-dir results/deepseek-r1 --result-filename vllm-1000-2000-.json
[36m(vllm-benchmark, pid=7132)[0m INFO 04-20 01:07:13 [__init__.py:239] Automatically detected platform cuda.
[36m(vllm-benchmark, pid=7132)[0m Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=8000, endpoint='/v1/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='deepseek-ai/DeepSeek-R1', tokenizer=None, use_beam_search=False, num_prompts=50, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='results/deepseek-r1', result_filename='vllm-1000-2000-.json', ignore_eos=True, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1000, random_output_len=2000, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
[36m(vllm-benchmark, pid=7132)[0m Starting initial single prompt test run...
[36m(vllm-benchmark, pid=7132)[0m Initial test run completed. Starting main benchmark run...
[36m(vllm-benchmark, pid=7132)[0m Traffic request rate: 10.0
[36m(vllm-benchmark, pid=7132)[0m Burstiness factor: 1.0 (Poisson process)
[36m(vllm-benchmark, pid=7132)[0m Maximum request concurrency: None
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 0/50 [00:00<?, ?it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 1/50 [01:28<1:12:09, 88.36s/it]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 4/50 [01:28<12:52, 16.78s/it]  
[36m(vllm-benchmark, pid=7132)[0m  30%|███       | 15/50 [01:28<01:52,  3.21s/it]
 78%|███████▊  | 39/50 [01:28<00:10,  1.09it/s]
100%|██████████| 50/50 [01:28<00:00,  1.78s/it]
[36m(vllm-benchmark, pid=7132)[0m ============ Serving Benchmark Result ============
[36m(vllm-benchmark, pid=7132)[0m Successful requests:                     50        
[36m(vllm-benchmark, pid=7132)[0m Benchmark duration (s):                  88.92     
[36m(vllm-benchmark, pid=7132)[0m Total input tokens:                      50000     
[36m(vllm-benchmark, pid=7132)[0m Total generated tokens:                  100000    
[36m(vllm-benchmark, pid=7132)[0m Request throughput (req/s):              0.56      
[36m(vllm-benchmark, pid=7132)[0m Output token throughput (tok/s):         1124.66   
[36m(vllm-benchmark, pid=7132)[0m Total Token throughput (tok/s):          1686.99   
[36m(vllm-benchmark, pid=7132)[0m ---------------Time to First Token----------------
[36m(vllm-benchmark, pid=7132)[0m Mean TTFT (ms):                          1135.59   
[36m(vllm-benchmark, pid=7132)[0m Median TTFT (ms):                        1210.23   
[36m(vllm-benchmark, pid=7132)[0m P99 TTFT (ms):                           1880.11   
[36m(vllm-benchmark, pid=7132)[0m -----Time per Output Token (excl. 1st token)------
[36m(vllm-benchmark, pid=7132)[0m Mean TPOT (ms):                          42.74     
[36m(vllm-benchmark, pid=7132)[0m Median TPOT (ms):                        42.64     
[36m(vllm-benchmark, pid=7132)[0m P99 TPOT (ms):                           44.10     
[36m(vllm-benchmark, pid=7132)[0m ---------------Inter-token Latency----------------
[36m(vllm-benchmark, pid=7132)[0m Mean ITL (ms):                           42.74     
[36m(vllm-benchmark, pid=7132)[0m Median ITL (ms):                         42.12     
[36m(vllm-benchmark, pid=7132)[0m P99 ITL (ms):                            44.79     
[36m(vllm-benchmark, pid=7132)[0m ==================================================
[36m(vllm-benchmark, pid=7132)[0m + sleep 6
[36m(vllm-benchmark, pid=7132)[0m + for pair in "1000,2000" "5000,1000" "10000,500" "30000,100" "sharegpt"
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm == trt ']'
[36m(vllm-benchmark, pid=7132)[0m + just run-scenario vllm deepseek-r1 5000,1000
[36m(vllm-benchmark, pid=7132)[0m + just _ensure-results-dir deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m mkdir -p results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm '!=' vllm ']'
[36m(vllm-benchmark, pid=7132)[0m ++ just _get-model-path deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + MODEL_PATH=deepseek-ai/DeepSeek-R1
[36m(vllm-benchmark, pid=7132)[0m ++ echo 5000,1000
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f1
[36m(vllm-benchmark, pid=7132)[0m + INPUT_LEN=5000
[36m(vllm-benchmark, pid=7132)[0m ++ echo 5000,1000
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f2
[36m(vllm-benchmark, pid=7132)[0m + OUTPUT_LEN=1000
[36m(vllm-benchmark, pid=7132)[0m + [[ '' == \s\g\l ]]
[36m(vllm-benchmark, pid=7132)[0m + [[ 5000,1000 == \s\h\a\r\e\g\p\t ]]
[36m(vllm-benchmark, pid=7132)[0m + uv run --with-requirements requirements-benchmark.txt vllm-benchmarks/benchmarks/benchmark_serving.py --model deepseek-ai/DeepSeek-R1 --dataset-name random --ignore-eos --num-prompts 50 --request-rate 10 --random-input-len 5000 --random-output-len 1000 --save-result --result-dir results/deepseek-r1 --result-filename vllm-5000-1000-.json
[36m(vllm-benchmark, pid=7132)[0m INFO 04-20 01:09:52 [__init__.py:239] Automatically detected platform cuda.
[36m(vllm-benchmark, pid=7132)[0m Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=8000, endpoint='/v1/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='deepseek-ai/DeepSeek-R1', tokenizer=None, use_beam_search=False, num_prompts=50, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='results/deepseek-r1', result_filename='vllm-5000-1000-.json', ignore_eos=True, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=5000, random_output_len=1000, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
[36m(vllm-benchmark, pid=7132)[0m Starting initial single prompt test run...
[36m(vllm-benchmark, pid=7132)[0m Initial test run completed. Starting main benchmark run...
[36m(vllm-benchmark, pid=7132)[0m Traffic request rate: 10.0
[36m(vllm-benchmark, pid=7132)[0m Burstiness factor: 1.0 (Poisson process)
[36m(vllm-benchmark, pid=7132)[0m Maximum request concurrency: None
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 0/50 [00:00<?, ?it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 1/50 [00:57<47:18, 57.93s/it]
[36m(vllm-benchmark, pid=7132)[0m  10%|█         | 5/50 [00:58<06:29,  8.65s/it]
[36m(vllm-benchmark, pid=7132)[0m  18%|█▊        | 9/50 [00:58<02:40,  3.92s/it]
[36m(vllm-benchmark, pid=7132)[0m  28%|██▊       | 14/50 [00:58<01:11,  1.99s/it]
[36m(vllm-benchmark, pid=7132)[0m  38%|███▊      | 19/50 [00:58<00:36,  1.18s/it]
[36m(vllm-benchmark, pid=7132)[0m  48%|████▊     | 24/50 [00:58<00:19,  1.34it/s]
[36m(vllm-benchmark, pid=7132)[0m  58%|█████▊    | 29/50 [00:58<00:10,  2.02it/s]
[36m(vllm-benchmark, pid=7132)[0m  68%|██████▊   | 34/50 [00:58<00:05,  2.96it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 39/50 [00:58<00:02,  4.21it/s]
[36m(vllm-benchmark, pid=7132)[0m  88%|████████▊ | 44/50 [00:58<00:01,  5.87it/s]
 98%|█████████▊| 49/50 [00:59<00:00,  7.97it/s]
100%|██████████| 50/50 [00:59<00:00,  1.18s/it]
[36m(vllm-benchmark, pid=7132)[0m ============ Serving Benchmark Result ============
[36m(vllm-benchmark, pid=7132)[0m Successful requests:                     50        
[36m(vllm-benchmark, pid=7132)[0m Benchmark duration (s):                  59.10     
[36m(vllm-benchmark, pid=7132)[0m Total input tokens:                      250000    
[36m(vllm-benchmark, pid=7132)[0m Total generated tokens:                  50000     
[36m(vllm-benchmark, pid=7132)[0m Request throughput (req/s):              0.85      
[36m(vllm-benchmark, pid=7132)[0m Output token throughput (tok/s):         846.07    
[36m(vllm-benchmark, pid=7132)[0m Total Token throughput (tok/s):          5076.43   
[36m(vllm-benchmark, pid=7132)[0m ---------------Time to First Token----------------
[36m(vllm-benchmark, pid=7132)[0m Mean TTFT (ms):                          5850.00   
[36m(vllm-benchmark, pid=7132)[0m Median TTFT (ms):                        5963.83   
[36m(vllm-benchmark, pid=7132)[0m P99 TTFT (ms):                           10838.25  
[36m(vllm-benchmark, pid=7132)[0m -----Time per Output Token (excl. 1st token)------
[36m(vllm-benchmark, pid=7132)[0m Mean TPOT (ms):                          50.58     
[36m(vllm-benchmark, pid=7132)[0m Median TPOT (ms):                        50.52     
[36m(vllm-benchmark, pid=7132)[0m P99 TPOT (ms):                           57.45     
[36m(vllm-benchmark, pid=7132)[0m ---------------Inter-token Latency----------------
[36m(vllm-benchmark, pid=7132)[0m Mean ITL (ms):                           50.58     
[36m(vllm-benchmark, pid=7132)[0m Median ITL (ms):                         44.10     
[36m(vllm-benchmark, pid=7132)[0m P99 ITL (ms):                            486.36    
[36m(vllm-benchmark, pid=7132)[0m ==================================================
[36m(vllm-benchmark, pid=7132)[0m + sleep 6
[36m(vllm-benchmark, pid=7132)[0m + for pair in "1000,2000" "5000,1000" "10000,500" "30000,100" "sharegpt"
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm == trt ']'
[36m(vllm-benchmark, pid=7132)[0m + just run-scenario vllm deepseek-r1 10000,500
[36m(vllm-benchmark, pid=7132)[0m + just _ensure-results-dir deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m mkdir -p results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm '!=' vllm ']'
[36m(vllm-benchmark, pid=7132)[0m ++ just _get-model-path deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + MODEL_PATH=deepseek-ai/DeepSeek-R1
[36m(vllm-benchmark, pid=7132)[0m ++ echo 10000,500
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f1
[36m(vllm-benchmark, pid=7132)[0m + INPUT_LEN=10000
[36m(vllm-benchmark, pid=7132)[0m ++ echo 10000,500
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f2
[36m(vllm-benchmark, pid=7132)[0m + OUTPUT_LEN=500
[36m(vllm-benchmark, pid=7132)[0m + [[ '' == \s\g\l ]]
[36m(vllm-benchmark, pid=7132)[0m + [[ 10000,500 == \s\h\a\r\e\g\p\t ]]
[36m(vllm-benchmark, pid=7132)[0m + uv run --with-requirements requirements-benchmark.txt vllm-benchmarks/benchmarks/benchmark_serving.py --model deepseek-ai/DeepSeek-R1 --dataset-name random --ignore-eos --num-prompts 50 --request-rate 10 --random-input-len 10000 --random-output-len 500 --save-result --result-dir results/deepseek-r1 --result-filename vllm-10000-500-.json
[36m(vllm-benchmark, pid=7132)[0m INFO 04-20 01:11:33 [__init__.py:239] Automatically detected platform cuda.
[36m(vllm-benchmark, pid=7132)[0m Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=8000, endpoint='/v1/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='deepseek-ai/DeepSeek-R1', tokenizer=None, use_beam_search=False, num_prompts=50, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='results/deepseek-r1', result_filename='vllm-10000-500-.json', ignore_eos=True, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=10000, random_output_len=500, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
[36m(vllm-benchmark, pid=7132)[0m Starting initial single prompt test run...
[36m(vllm-benchmark, pid=7132)[0m Initial test run completed. Starting main benchmark run...
[36m(vllm-benchmark, pid=7132)[0m Traffic request rate: 10.0
[36m(vllm-benchmark, pid=7132)[0m Burstiness factor: 1.0 (Poisson process)
[36m(vllm-benchmark, pid=7132)[0m Maximum request concurrency: None
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 0/50 [00:00<?, ?it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 1/50 [00:54<44:22, 54.34s/it]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 4/50 [00:54<07:55, 10.33s/it]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▍        | 7/50 [00:54<03:26,  4.81s/it]
[36m(vllm-benchmark, pid=7132)[0m  20%|██        | 10/50 [00:54<01:49,  2.75s/it]
[36m(vllm-benchmark, pid=7132)[0m  26%|██▌       | 13/50 [00:54<01:03,  1.72s/it]
[36m(vllm-benchmark, pid=7132)[0m  32%|███▏      | 16/50 [00:55<00:38,  1.13s/it]
[36m(vllm-benchmark, pid=7132)[0m  38%|███▊      | 19/50 [00:55<00:23,  1.31it/s]
[36m(vllm-benchmark, pid=7132)[0m  44%|████▍     | 22/50 [00:55<00:14,  1.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  48%|████▊     | 24/50 [00:55<00:10,  2.38it/s]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▍    | 27/50 [00:55<00:06,  3.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  60%|██████    | 30/50 [00:55<00:04,  4.68it/s]
[36m(vllm-benchmark, pid=7132)[0m  66%|██████▌   | 33/50 [00:55<00:02,  6.20it/s]
[36m(vllm-benchmark, pid=7132)[0m  72%|███████▏  | 36/50 [00:56<00:01,  7.84it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 39/50 [00:56<00:01,  9.93it/s]
[36m(vllm-benchmark, pid=7132)[0m  84%|████████▍ | 42/50 [00:56<00:00, 11.62it/s]
[36m(vllm-benchmark, pid=7132)[0m  90%|█████████ | 45/50 [00:56<00:00, 13.73it/s]
 96%|█████████▌| 48/50 [00:56<00:00, 15.85it/s]
100%|██████████| 50/50 [00:56<00:00,  1.13s/it]
[36m(vllm-benchmark, pid=7132)[0m ============ Serving Benchmark Result ============
[36m(vllm-benchmark, pid=7132)[0m Successful requests:                     50        
[36m(vllm-benchmark, pid=7132)[0m Benchmark duration (s):                  56.71     
[36m(vllm-benchmark, pid=7132)[0m Total input tokens:                      500000    
[36m(vllm-benchmark, pid=7132)[0m Total generated tokens:                  25000     
[36m(vllm-benchmark, pid=7132)[0m Request throughput (req/s):              0.88      
[36m(vllm-benchmark, pid=7132)[0m Output token throughput (tok/s):         440.85    
[36m(vllm-benchmark, pid=7132)[0m Total Token throughput (tok/s):          9257.80   
[36m(vllm-benchmark, pid=7132)[0m ---------------Time to First Token----------------
[36m(vllm-benchmark, pid=7132)[0m Mean TTFT (ms):                          15010.68  
[36m(vllm-benchmark, pid=7132)[0m Median TTFT (ms):                        15056.07  
[36m(vllm-benchmark, pid=7132)[0m P99 TTFT (ms):                           28561.42  
[36m(vllm-benchmark, pid=7132)[0m -----Time per Output Token (excl. 1st token)------
[36m(vllm-benchmark, pid=7132)[0m Mean TPOT (ms):                          76.96     
[36m(vllm-benchmark, pid=7132)[0m Median TPOT (ms):                        77.00     
[36m(vllm-benchmark, pid=7132)[0m P99 TPOT (ms):                           106.30    
[36m(vllm-benchmark, pid=7132)[0m ---------------Inter-token Latency----------------
[36m(vllm-benchmark, pid=7132)[0m Mean ITL (ms):                           76.96     
[36m(vllm-benchmark, pid=7132)[0m Median ITL (ms):                         48.14     
[36m(vllm-benchmark, pid=7132)[0m P99 ITL (ms):                            537.74    
[36m(vllm-benchmark, pid=7132)[0m ==================================================
[36m(vllm-benchmark, pid=7132)[0m + sleep 6
[36m(vllm-benchmark, pid=7132)[0m + for pair in "1000,2000" "5000,1000" "10000,500" "30000,100" "sharegpt"
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm == trt ']'
[36m(vllm-benchmark, pid=7132)[0m + just run-scenario vllm deepseek-r1 30000,100
[36m(vllm-benchmark, pid=7132)[0m + just _ensure-results-dir deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m mkdir -p results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm '!=' vllm ']'
[36m(vllm-benchmark, pid=7132)[0m ++ just _get-model-path deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + MODEL_PATH=deepseek-ai/DeepSeek-R1
[36m(vllm-benchmark, pid=7132)[0m ++ echo 30000,100
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f1
[36m(vllm-benchmark, pid=7132)[0m + INPUT_LEN=30000
[36m(vllm-benchmark, pid=7132)[0m ++ echo 30000,100
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f2
[36m(vllm-benchmark, pid=7132)[0m + OUTPUT_LEN=100
[36m(vllm-benchmark, pid=7132)[0m + [[ '' == \s\g\l ]]
[36m(vllm-benchmark, pid=7132)[0m + [[ 30000,100 == \s\h\a\r\e\g\p\t ]]
[36m(vllm-benchmark, pid=7132)[0m + uv run --with-requirements requirements-benchmark.txt vllm-benchmarks/benchmarks/benchmark_serving.py --model deepseek-ai/DeepSeek-R1 --dataset-name random --ignore-eos --num-prompts 50 --request-rate 10 --random-input-len 30000 --random-output-len 100 --save-result --result-dir results/deepseek-r1 --result-filename vllm-30000-100-.json
[36m(vllm-benchmark, pid=7132)[0m INFO 04-20 01:12:58 [__init__.py:239] Automatically detected platform cuda.
[36m(vllm-benchmark, pid=7132)[0m Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=8000, endpoint='/v1/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='deepseek-ai/DeepSeek-R1', tokenizer=None, use_beam_search=False, num_prompts=50, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='results/deepseek-r1', result_filename='vllm-30000-100-.json', ignore_eos=True, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=30000, random_output_len=100, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
[36m(vllm-benchmark, pid=7132)[0m Starting initial single prompt test run...
[36m(vllm-benchmark, pid=7132)[0m Initial test run completed. Starting main benchmark run...
[36m(vllm-benchmark, pid=7132)[0m Traffic request rate: 10.0
[36m(vllm-benchmark, pid=7132)[0m Burstiness factor: 1.0 (Poisson process)
[36m(vllm-benchmark, pid=7132)[0m Maximum request concurrency: None
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 0/50 [00:00<?, ?it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 1/50 [00:50<40:52, 50.05s/it]
[36m(vllm-benchmark, pid=7132)[0m   4%|▍         | 2/50 [00:52<17:40, 22.10s/it]
[36m(vllm-benchmark, pid=7132)[0m   6%|▌         | 3/50 [00:55<10:20, 13.21s/it]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 4/50 [00:57<06:43,  8.76s/it]
[36m(vllm-benchmark, pid=7132)[0m  10%|█         | 5/50 [00:59<04:56,  6.60s/it]
[36m(vllm-benchmark, pid=7132)[0m  12%|█▏        | 6/50 [01:02<03:53,  5.30s/it]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▍        | 7/50 [01:05<03:09,  4.40s/it]
[36m(vllm-benchmark, pid=7132)[0m  16%|█▌        | 8/50 [01:07<02:41,  3.84s/it]
[36m(vllm-benchmark, pid=7132)[0m  18%|█▊        | 9/50 [01:09<02:13,  3.25s/it]
[36m(vllm-benchmark, pid=7132)[0m  20%|██        | 10/50 [01:12<02:04,  3.10s/it]
[36m(vllm-benchmark, pid=7132)[0m  22%|██▏       | 11/50 [01:15<01:57,  3.01s/it]
[36m(vllm-benchmark, pid=7132)[0m  24%|██▍       | 12/50 [01:18<01:51,  2.94s/it]
[36m(vllm-benchmark, pid=7132)[0m  26%|██▌       | 13/50 [01:20<01:37,  2.64s/it]
[36m(vllm-benchmark, pid=7132)[0m  28%|██▊       | 14/50 [01:22<01:36,  2.68s/it]
[36m(vllm-benchmark, pid=7132)[0m  30%|███       | 15/50 [01:25<01:34,  2.71s/it]
[36m(vllm-benchmark, pid=7132)[0m  32%|███▏      | 16/50 [01:28<01:33,  2.74s/it]
[36m(vllm-benchmark, pid=7132)[0m  34%|███▍      | 17/50 [01:30<01:22,  2.50s/it]
[36m(vllm-benchmark, pid=7132)[0m  36%|███▌      | 18/50 [01:33<01:22,  2.59s/it]
[36m(vllm-benchmark, pid=7132)[0m  38%|███▊      | 19/50 [01:36<01:22,  2.66s/it]
[36m(vllm-benchmark, pid=7132)[0m  40%|████      | 20/50 [01:40<01:32,  3.10s/it]
[36m(vllm-benchmark, pid=7132)[0m  42%|████▏     | 21/50 [01:42<01:25,  2.96s/it]
[36m(vllm-benchmark, pid=7132)[0m  44%|████▍     | 22/50 [01:45<01:18,  2.81s/it]
[36m(vllm-benchmark, pid=7132)[0m  46%|████▌     | 23/50 [01:47<01:14,  2.75s/it]
[36m(vllm-benchmark, pid=7132)[0m  48%|████▊     | 24/50 [01:49<01:05,  2.51s/it]
[36m(vllm-benchmark, pid=7132)[0m  50%|█████     | 25/50 [01:52<01:04,  2.60s/it]
[36m(vllm-benchmark, pid=7132)[0m  52%|█████▏    | 26/50 [01:55<01:03,  2.65s/it]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▍    | 27/50 [01:58<01:01,  2.69s/it]
[36m(vllm-benchmark, pid=7132)[0m  56%|█████▌    | 28/50 [02:00<00:57,  2.62s/it]
[36m(vllm-benchmark, pid=7132)[0m  58%|█████▊    | 29/50 [02:03<00:55,  2.62s/it]
[36m(vllm-benchmark, pid=7132)[0m  60%|██████    | 30/50 [02:05<00:48,  2.42s/it]
[36m(vllm-benchmark, pid=7132)[0m  62%|██████▏   | 31/50 [02:08<00:48,  2.53s/it]
[36m(vllm-benchmark, pid=7132)[0m  64%|██████▍   | 32/50 [02:10<00:47,  2.62s/it]
[36m(vllm-benchmark, pid=7132)[0m  66%|██████▌   | 33/50 [02:11<00:32,  1.94s/it]
[36m(vllm-benchmark, pid=7132)[0m  68%|██████▊   | 34/50 [02:11<00:22,  1.40s/it]
[36m(vllm-benchmark, pid=7132)[0m  70%|███████   | 35/50 [02:11<00:15,  1.03s/it]
[36m(vllm-benchmark, pid=7132)[0m  72%|███████▏  | 36/50 [02:11<00:10,  1.28it/s]
[36m(vllm-benchmark, pid=7132)[0m  74%|███████▍  | 37/50 [02:11<00:07,  1.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  76%|███████▌  | 38/50 [02:12<00:05,  2.17it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 39/50 [02:13<00:08,  1.28it/s]
[36m(vllm-benchmark, pid=7132)[0m  80%|████████  | 40/50 [02:13<00:05,  1.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  82%|████████▏ | 41/50 [02:13<00:04,  2.12it/s]
[36m(vllm-benchmark, pid=7132)[0m  84%|████████▍ | 42/50 [02:14<00:03,  2.63it/s]
[36m(vllm-benchmark, pid=7132)[0m  86%|████████▌ | 43/50 [02:14<00:02,  3.29it/s]
[36m(vllm-benchmark, pid=7132)[0m  88%|████████▊ | 44/50 [02:14<00:01,  4.01it/s]
[36m(vllm-benchmark, pid=7132)[0m  92%|█████████▏| 46/50 [02:14<00:00,  5.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  94%|█████████▍| 47/50 [02:14<00:00,  5.98it/s]
[36m(vllm-benchmark, pid=7132)[0m  96%|█████████▌| 48/50 [02:14<00:00,  6.46it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 49/50 [02:14<00:00,  6.83it/s]
100%|██████████| 50/50 [02:15<00:00,  7.21it/s]
100%|██████████| 50/50 [02:15<00:00,  2.70s/it]
[36m(vllm-benchmark, pid=7132)[0m ============ Serving Benchmark Result ============
[36m(vllm-benchmark, pid=7132)[0m Successful requests:                     50        
[36m(vllm-benchmark, pid=7132)[0m Benchmark duration (s):                  135.03    
[36m(vllm-benchmark, pid=7132)[0m Total input tokens:                      1500000   
[36m(vllm-benchmark, pid=7132)[0m Total generated tokens:                  5000      
[36m(vllm-benchmark, pid=7132)[0m Request throughput (req/s):              0.37      
[36m(vllm-benchmark, pid=7132)[0m Output token throughput (tok/s):         37.03     
[36m(vllm-benchmark, pid=7132)[0m Total Token throughput (tok/s):          11146.04  
[36m(vllm-benchmark, pid=7132)[0m ---------------Time to First Token----------------
[36m(vllm-benchmark, pid=7132)[0m Mean TTFT (ms):                          64519.01  
[36m(vllm-benchmark, pid=7132)[0m Median TTFT (ms):                        64452.44  
[36m(vllm-benchmark, pid=7132)[0m P99 TTFT (ms):                           125457.23 
[36m(vllm-benchmark, pid=7132)[0m -----Time per Output Token (excl. 1st token)------
[36m(vllm-benchmark, pid=7132)[0m Mean TPOT (ms):                          394.42    
[36m(vllm-benchmark, pid=7132)[0m Median TPOT (ms):                        474.73    
[36m(vllm-benchmark, pid=7132)[0m P99 TPOT (ms):                           481.21    
[36m(vllm-benchmark, pid=7132)[0m ---------------Inter-token Latency----------------
[36m(vllm-benchmark, pid=7132)[0m Mean ITL (ms):                           394.42    
[36m(vllm-benchmark, pid=7132)[0m Median ITL (ms):                         530.22    
[36m(vllm-benchmark, pid=7132)[0m P99 ITL (ms):                            833.73    
[36m(vllm-benchmark, pid=7132)[0m ==================================================
[36m(vllm-benchmark, pid=7132)[0m + sleep 6
[36m(vllm-benchmark, pid=7132)[0m + for pair in "1000,2000" "5000,1000" "10000,500" "30000,100" "sharegpt"
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm == trt ']'
[36m(vllm-benchmark, pid=7132)[0m + just run-scenario vllm deepseek-r1 sharegpt
[36m(vllm-benchmark, pid=7132)[0m + just _ensure-results-dir deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m mkdir -p results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + '[' vllm '!=' vllm ']'
[36m(vllm-benchmark, pid=7132)[0m ++ just _get-model-path deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m + MODEL_PATH=deepseek-ai/DeepSeek-R1
[36m(vllm-benchmark, pid=7132)[0m ++ echo sharegpt
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f1
[36m(vllm-benchmark, pid=7132)[0m + INPUT_LEN=sharegpt
[36m(vllm-benchmark, pid=7132)[0m ++ echo sharegpt
[36m(vllm-benchmark, pid=7132)[0m ++ cut -d, -f2
[36m(vllm-benchmark, pid=7132)[0m + OUTPUT_LEN=sharegpt
[36m(vllm-benchmark, pid=7132)[0m + [[ '' == \s\g\l ]]
[36m(vllm-benchmark, pid=7132)[0m + [[ sharegpt == \s\h\a\r\e\g\p\t ]]
[36m(vllm-benchmark, pid=7132)[0m + uv run --with-requirements requirements-benchmark.txt vllm-benchmarks/benchmarks/benchmark_serving.py --model deepseek-ai/DeepSeek-R1 --dataset-name sharegpt --ignore-eos --dataset-path vllm-benchmarks/benchmarks/sharegpt.json --num-prompts 500 --request-rate 10 --save-result --result-dir results/deepseek-r1 --result-filename vllm-sharegpt-.json
[36m(vllm-benchmark, pid=7132)[0m INFO 04-20 01:15:31 [__init__.py:239] Automatically detected platform cuda.
[36m(vllm-benchmark, pid=7132)[0m Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=8000, endpoint='/v1/completions', dataset_name='sharegpt', dataset_path='vllm-benchmarks/benchmarks/sharegpt.json', max_concurrency=None, model='deepseek-ai/DeepSeek-R1', tokenizer=None, use_beam_search=False, num_prompts=500, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='results/deepseek-r1', result_filename='vllm-sharegpt-.json', ignore_eos=True, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=128, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
[36m(vllm-benchmark, pid=7132)[0m Starting initial single prompt test run...
[36m(vllm-benchmark, pid=7132)[0m Initial test run completed. Starting main benchmark run...
[36m(vllm-benchmark, pid=7132)[0m Traffic request rate: 10.0
[36m(vllm-benchmark, pid=7132)[0m Burstiness factor: 1.0 (Poisson process)
[36m(vllm-benchmark, pid=7132)[0m Maximum request concurrency: None
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 0/500 [00:00<?, ?it/s]
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 1/500 [00:00<07:53,  1.05it/s]
[36m(vllm-benchmark, pid=7132)[0m   0%|          | 2/500 [00:01<03:50,  2.16it/s]
[36m(vllm-benchmark, pid=7132)[0m   1%|          | 3/500 [00:01<04:23,  1.88it/s]
[36m(vllm-benchmark, pid=7132)[0m   1%|          | 4/500 [00:02<04:50,  1.71it/s]
[36m(vllm-benchmark, pid=7132)[0m   1%|          | 5/500 [00:03<07:46,  1.06it/s]
[36m(vllm-benchmark, pid=7132)[0m   1%|          | 6/500 [00:04<05:33,  1.48it/s]
[36m(vllm-benchmark, pid=7132)[0m   1%|▏         | 7/500 [00:04<04:20,  1.89it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 8/500 [00:04<03:26,  2.38it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 9/500 [00:04<02:49,  2.89it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 10/500 [00:05<03:10,  2.57it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 11/500 [00:05<03:13,  2.52it/s]
[36m(vllm-benchmark, pid=7132)[0m   2%|▏         | 12/500 [00:05<03:07,  2.60it/s]
[36m(vllm-benchmark, pid=7132)[0m   3%|▎         | 13/500 [00:06<02:34,  3.15it/s]
[36m(vllm-benchmark, pid=7132)[0m   3%|▎         | 14/500 [00:06<02:10,  3.73it/s]
[36m(vllm-benchmark, pid=7132)[0m   3%|▎         | 16/500 [00:06<01:45,  4.60it/s]
[36m(vllm-benchmark, pid=7132)[0m   3%|▎         | 17/500 [00:06<01:43,  4.67it/s]
[36m(vllm-benchmark, pid=7132)[0m   4%|▎         | 18/500 [00:06<01:34,  5.08it/s]
[36m(vllm-benchmark, pid=7132)[0m   4%|▍         | 20/500 [00:07<01:12,  6.65it/s]
[36m(vllm-benchmark, pid=7132)[0m   4%|▍         | 22/500 [00:07<01:00,  7.84it/s]
[36m(vllm-benchmark, pid=7132)[0m   5%|▍         | 24/500 [00:07<01:01,  7.75it/s]
[36m(vllm-benchmark, pid=7132)[0m   5%|▌         | 25/500 [00:07<01:06,  7.10it/s]
[36m(vllm-benchmark, pid=7132)[0m   5%|▌         | 26/500 [00:08<02:00,  3.93it/s]
[36m(vllm-benchmark, pid=7132)[0m   6%|▌         | 29/500 [00:08<01:16,  6.16it/s]
[36m(vllm-benchmark, pid=7132)[0m   6%|▌         | 31/500 [00:08<01:02,  7.56it/s]
[36m(vllm-benchmark, pid=7132)[0m   7%|▋         | 33/500 [00:09<01:25,  5.46it/s]
[36m(vllm-benchmark, pid=7132)[0m   7%|▋         | 34/500 [00:09<01:32,  5.02it/s]
[36m(vllm-benchmark, pid=7132)[0m   7%|▋         | 35/500 [00:09<01:37,  4.78it/s]
[36m(vllm-benchmark, pid=7132)[0m   7%|▋         | 36/500 [00:10<02:14,  3.44it/s]
[36m(vllm-benchmark, pid=7132)[0m   7%|▋         | 37/500 [00:10<01:57,  3.93it/s]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 39/500 [00:10<01:23,  5.54it/s]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 41/500 [00:10<01:10,  6.53it/s]
[36m(vllm-benchmark, pid=7132)[0m   8%|▊         | 42/500 [00:11<01:06,  6.89it/s]
[36m(vllm-benchmark, pid=7132)[0m   9%|▉         | 44/500 [00:11<01:26,  5.30it/s]
[36m(vllm-benchmark, pid=7132)[0m   9%|▉         | 47/500 [00:12<01:41,  4.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  10%|▉         | 48/500 [00:12<02:05,  3.59it/s]
[36m(vllm-benchmark, pid=7132)[0m  10%|█         | 51/500 [00:13<01:24,  5.33it/s]
[36m(vllm-benchmark, pid=7132)[0m  10%|█         | 52/500 [00:13<01:21,  5.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  11%|█         | 53/500 [00:13<01:32,  4.85it/s]
[36m(vllm-benchmark, pid=7132)[0m  11%|█         | 55/500 [00:13<01:21,  5.46it/s]
[36m(vllm-benchmark, pid=7132)[0m  11%|█         | 56/500 [00:14<01:28,  5.00it/s]
[36m(vllm-benchmark, pid=7132)[0m  11%|█▏        | 57/500 [00:14<01:30,  4.88it/s]
[36m(vllm-benchmark, pid=7132)[0m  12%|█▏        | 60/500 [00:14<00:58,  7.53it/s]
[36m(vllm-benchmark, pid=7132)[0m  12%|█▏        | 61/500 [00:14<01:05,  6.74it/s]
[36m(vllm-benchmark, pid=7132)[0m  12%|█▏        | 62/500 [00:15<01:24,  5.18it/s]
[36m(vllm-benchmark, pid=7132)[0m  13%|█▎        | 65/500 [00:15<01:20,  5.41it/s]
[36m(vllm-benchmark, pid=7132)[0m  13%|█▎        | 67/500 [00:15<01:03,  6.86it/s]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▎        | 68/500 [00:15<01:06,  6.46it/s]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▍        | 69/500 [00:16<01:51,  3.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▍        | 71/500 [00:16<01:27,  4.90it/s]
[36m(vllm-benchmark, pid=7132)[0m  14%|█▍        | 72/500 [00:16<01:22,  5.16it/s]
[36m(vllm-benchmark, pid=7132)[0m  15%|█▍        | 73/500 [00:17<01:13,  5.81it/s]
[36m(vllm-benchmark, pid=7132)[0m  15%|█▌        | 75/500 [00:17<01:03,  6.74it/s]
[36m(vllm-benchmark, pid=7132)[0m  16%|█▌        | 78/500 [00:17<00:57,  7.33it/s]
[36m(vllm-benchmark, pid=7132)[0m  16%|█▌        | 80/500 [00:18<01:08,  6.10it/s]
[36m(vllm-benchmark, pid=7132)[0m  16%|█▌        | 81/500 [00:18<01:08,  6.07it/s]
[36m(vllm-benchmark, pid=7132)[0m  17%|█▋        | 83/500 [00:18<01:10,  5.88it/s]
[36m(vllm-benchmark, pid=7132)[0m  17%|█▋        | 85/500 [00:18<00:57,  7.17it/s]
[36m(vllm-benchmark, pid=7132)[0m  17%|█▋        | 86/500 [00:18<01:04,  6.43it/s]
[36m(vllm-benchmark, pid=7132)[0m  17%|█▋        | 87/500 [00:19<01:13,  5.61it/s]
[36m(vllm-benchmark, pid=7132)[0m  18%|█▊        | 90/500 [00:19<01:04,  6.33it/s]
[36m(vllm-benchmark, pid=7132)[0m  18%|█▊        | 91/500 [00:19<01:05,  6.23it/s]
[36m(vllm-benchmark, pid=7132)[0m  18%|█▊        | 92/500 [00:20<01:31,  4.45it/s]
[36m(vllm-benchmark, pid=7132)[0m  19%|█▊        | 93/500 [00:20<01:29,  4.55it/s]
[36m(vllm-benchmark, pid=7132)[0m  19%|█▉        | 94/500 [00:20<01:22,  4.90it/s]
[36m(vllm-benchmark, pid=7132)[0m  19%|█▉        | 97/500 [00:20<00:55,  7.29it/s]
[36m(vllm-benchmark, pid=7132)[0m  20%|█▉        | 98/500 [00:20<00:52,  7.66it/s]
[36m(vllm-benchmark, pid=7132)[0m  20%|█▉        | 99/500 [00:21<00:50,  8.01it/s]
[36m(vllm-benchmark, pid=7132)[0m  20%|██        | 101/500 [00:21<00:43,  9.13it/s]
[36m(vllm-benchmark, pid=7132)[0m  21%|██        | 103/500 [00:21<01:00,  6.60it/s]
[36m(vllm-benchmark, pid=7132)[0m  21%|██        | 105/500 [00:21<00:53,  7.41it/s]
[36m(vllm-benchmark, pid=7132)[0m  22%|██▏       | 108/500 [00:22<00:37, 10.52it/s]
[36m(vllm-benchmark, pid=7132)[0m  22%|██▏       | 112/500 [00:22<00:25, 15.13it/s]
[36m(vllm-benchmark, pid=7132)[0m  23%|██▎       | 114/500 [00:22<00:55,  6.93it/s]
[36m(vllm-benchmark, pid=7132)[0m  23%|██▎       | 117/500 [00:23<00:41,  9.33it/s]
[36m(vllm-benchmark, pid=7132)[0m  24%|██▍       | 119/500 [00:23<00:39,  9.57it/s]
[36m(vllm-benchmark, pid=7132)[0m  24%|██▍       | 121/500 [00:23<00:40,  9.41it/s]
[36m(vllm-benchmark, pid=7132)[0m  25%|██▍       | 123/500 [00:23<00:40,  9.26it/s]
[36m(vllm-benchmark, pid=7132)[0m  25%|██▌       | 125/500 [00:24<01:09,  5.38it/s]
[36m(vllm-benchmark, pid=7132)[0m  25%|██▌       | 126/500 [00:24<01:13,  5.12it/s]
[36m(vllm-benchmark, pid=7132)[0m  25%|██▌       | 127/500 [00:24<01:08,  5.43it/s]
[36m(vllm-benchmark, pid=7132)[0m  26%|██▌       | 131/500 [00:25<00:40,  9.08it/s]
[36m(vllm-benchmark, pid=7132)[0m  27%|██▋       | 133/500 [00:25<00:52,  6.94it/s]
[36m(vllm-benchmark, pid=7132)[0m  27%|██▋       | 135/500 [00:25<00:57,  6.37it/s]
[36m(vllm-benchmark, pid=7132)[0m  27%|██▋       | 136/500 [00:26<00:56,  6.44it/s]
[36m(vllm-benchmark, pid=7132)[0m  27%|██▋       | 137/500 [00:26<00:56,  6.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  28%|██▊       | 138/500 [00:26<01:07,  5.40it/s]
[36m(vllm-benchmark, pid=7132)[0m  28%|██▊       | 141/500 [00:26<00:54,  6.61it/s]
[36m(vllm-benchmark, pid=7132)[0m  29%|██▉       | 145/500 [00:26<00:33, 10.68it/s]
[36m(vllm-benchmark, pid=7132)[0m  30%|██▉       | 148/500 [00:27<00:36,  9.51it/s]
[36m(vllm-benchmark, pid=7132)[0m  30%|███       | 150/500 [00:27<00:52,  6.64it/s]
[36m(vllm-benchmark, pid=7132)[0m  30%|███       | 151/500 [00:27<00:50,  6.94it/s]
[36m(vllm-benchmark, pid=7132)[0m  30%|███       | 152/500 [00:28<01:08,  5.08it/s]
[36m(vllm-benchmark, pid=7132)[0m  31%|███       | 154/500 [00:28<00:56,  6.13it/s]
[36m(vllm-benchmark, pid=7132)[0m  31%|███▏      | 157/500 [00:28<00:37,  9.07it/s]
[36m(vllm-benchmark, pid=7132)[0m  32%|███▏      | 159/500 [00:29<00:44,  7.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  32%|███▏      | 161/500 [00:29<00:59,  5.71it/s]
[36m(vllm-benchmark, pid=7132)[0m  33%|███▎      | 166/500 [00:30<00:41,  7.98it/s]
[36m(vllm-benchmark, pid=7132)[0m  34%|███▎      | 168/500 [00:30<00:43,  7.70it/s]
[36m(vllm-benchmark, pid=7132)[0m  34%|███▍      | 171/500 [00:30<00:32, 10.09it/s]
[36m(vllm-benchmark, pid=7132)[0m  35%|███▌      | 175/500 [00:30<00:27, 12.02it/s]
[36m(vllm-benchmark, pid=7132)[0m  36%|███▌      | 178/500 [00:30<00:27, 11.58it/s]
[36m(vllm-benchmark, pid=7132)[0m  36%|███▌      | 180/500 [00:31<00:31, 10.11it/s]
[36m(vllm-benchmark, pid=7132)[0m  36%|███▋      | 182/500 [00:31<00:37,  8.57it/s]
[36m(vllm-benchmark, pid=7132)[0m  37%|███▋      | 184/500 [00:32<01:21,  3.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  37%|███▋      | 186/500 [00:33<01:07,  4.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  38%|███▊      | 188/500 [00:33<00:58,  5.35it/s]
[36m(vllm-benchmark, pid=7132)[0m  38%|███▊      | 191/500 [00:33<00:45,  6.85it/s]
[36m(vllm-benchmark, pid=7132)[0m  39%|███▉      | 194/500 [00:34<00:53,  5.74it/s]
[36m(vllm-benchmark, pid=7132)[0m  39%|███▉      | 196/500 [00:34<00:43,  6.94it/s]
[36m(vllm-benchmark, pid=7132)[0m  40%|███▉      | 198/500 [00:34<00:48,  6.18it/s]
[36m(vllm-benchmark, pid=7132)[0m  40%|████      | 200/500 [00:35<00:43,  6.92it/s]
[36m(vllm-benchmark, pid=7132)[0m  41%|████      | 203/500 [00:35<00:37,  7.88it/s]
[36m(vllm-benchmark, pid=7132)[0m  41%|████      | 205/500 [00:35<00:34,  8.65it/s]
[36m(vllm-benchmark, pid=7132)[0m  41%|████▏     | 207/500 [00:35<00:35,  8.22it/s]
[36m(vllm-benchmark, pid=7132)[0m  42%|████▏     | 208/500 [00:35<00:34,  8.37it/s]
[36m(vllm-benchmark, pid=7132)[0m  42%|████▏     | 209/500 [00:36<01:04,  4.55it/s]
[36m(vllm-benchmark, pid=7132)[0m  42%|████▏     | 210/500 [00:36<00:58,  4.96it/s]
[36m(vllm-benchmark, pid=7132)[0m  42%|████▏     | 211/500 [00:36<00:53,  5.40it/s]
[36m(vllm-benchmark, pid=7132)[0m  43%|████▎     | 213/500 [00:36<00:40,  7.17it/s]
[36m(vllm-benchmark, pid=7132)[0m  43%|████▎     | 216/500 [00:37<00:29,  9.57it/s]
[36m(vllm-benchmark, pid=7132)[0m  44%|████▎     | 218/500 [00:37<00:38,  7.37it/s]
[36m(vllm-benchmark, pid=7132)[0m  44%|████▍     | 219/500 [00:37<00:39,  7.14it/s]
[36m(vllm-benchmark, pid=7132)[0m  44%|████▍     | 220/500 [00:38<01:00,  4.63it/s]
[36m(vllm-benchmark, pid=7132)[0m  45%|████▍     | 223/500 [00:38<00:40,  6.78it/s]
[36m(vllm-benchmark, pid=7132)[0m  45%|████▍     | 224/500 [00:38<00:41,  6.58it/s]
[36m(vllm-benchmark, pid=7132)[0m  45%|████▌     | 225/500 [00:38<00:40,  6.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  45%|████▌     | 227/500 [00:38<00:38,  7.02it/s]
[36m(vllm-benchmark, pid=7132)[0m  46%|████▌     | 228/500 [00:39<00:48,  5.62it/s]
[36m(vllm-benchmark, pid=7132)[0m  46%|████▌     | 230/500 [00:39<00:38,  7.09it/s]
[36m(vllm-benchmark, pid=7132)[0m  46%|████▌     | 231/500 [00:39<00:53,  5.06it/s]
[36m(vllm-benchmark, pid=7132)[0m  47%|████▋     | 233/500 [00:39<00:38,  6.93it/s]
[36m(vllm-benchmark, pid=7132)[0m  47%|████▋     | 234/500 [00:40<00:37,  7.04it/s]
[36m(vllm-benchmark, pid=7132)[0m  47%|████▋     | 237/500 [00:40<00:31,  8.27it/s]
[36m(vllm-benchmark, pid=7132)[0m  48%|████▊     | 239/500 [00:40<00:26,  9.93it/s]
[36m(vllm-benchmark, pid=7132)[0m  48%|████▊     | 241/500 [00:40<00:32,  7.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  49%|████▊     | 243/500 [00:41<00:31,  8.13it/s]
[36m(vllm-benchmark, pid=7132)[0m  49%|████▉     | 246/500 [00:41<00:22, 11.17it/s]
[36m(vllm-benchmark, pid=7132)[0m  50%|████▉     | 248/500 [00:41<00:29,  8.55it/s]
[36m(vllm-benchmark, pid=7132)[0m  50%|█████     | 252/500 [00:41<00:19, 12.81it/s]
[36m(vllm-benchmark, pid=7132)[0m  51%|█████     | 254/500 [00:41<00:19, 12.35it/s]
[36m(vllm-benchmark, pid=7132)[0m  51%|█████     | 256/500 [00:42<00:23, 10.18it/s]
[36m(vllm-benchmark, pid=7132)[0m  52%|█████▏    | 258/500 [00:42<00:26,  9.12it/s]
[36m(vllm-benchmark, pid=7132)[0m  52%|█████▏    | 260/500 [00:42<00:23, 10.34it/s]
[36m(vllm-benchmark, pid=7132)[0m  52%|█████▏    | 262/500 [00:42<00:20, 11.73it/s]
[36m(vllm-benchmark, pid=7132)[0m  53%|█████▎    | 264/500 [00:43<00:53,  4.40it/s]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▎    | 268/500 [00:44<00:44,  5.17it/s]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▍    | 269/500 [00:44<00:48,  4.72it/s]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▍    | 270/500 [00:45<00:50,  4.52it/s]
[36m(vllm-benchmark, pid=7132)[0m  54%|█████▍    | 272/500 [00:45<00:38,  5.95it/s]
[36m(vllm-benchmark, pid=7132)[0m  55%|█████▍    | 273/500 [00:45<00:40,  5.63it/s]
[36m(vllm-benchmark, pid=7132)[0m  55%|█████▌    | 275/500 [00:45<00:30,  7.37it/s]
[36m(vllm-benchmark, pid=7132)[0m  56%|█████▌    | 278/500 [00:45<00:24,  8.92it/s]
[36m(vllm-benchmark, pid=7132)[0m  56%|█████▌    | 281/500 [00:45<00:20, 10.66it/s]
[36m(vllm-benchmark, pid=7132)[0m  57%|█████▋    | 284/500 [00:46<00:16, 13.21it/s]
[36m(vllm-benchmark, pid=7132)[0m  57%|█████▋    | 286/500 [00:46<00:15, 13.90it/s]
[36m(vllm-benchmark, pid=7132)[0m  58%|█████▊    | 288/500 [00:46<00:21,  9.72it/s]
[36m(vllm-benchmark, pid=7132)[0m  58%|█████▊    | 291/500 [00:46<00:19, 10.69it/s]
[36m(vllm-benchmark, pid=7132)[0m  59%|█████▉    | 295/500 [00:47<00:21,  9.34it/s]
[36m(vllm-benchmark, pid=7132)[0m  60%|█████▉    | 298/500 [00:47<00:18, 10.86it/s]
[36m(vllm-benchmark, pid=7132)[0m  61%|██████    | 304/500 [00:47<00:11, 17.06it/s]
[36m(vllm-benchmark, pid=7132)[0m  61%|██████▏   | 307/500 [00:47<00:10, 18.47it/s]
[36m(vllm-benchmark, pid=7132)[0m  62%|██████▏   | 310/500 [00:48<00:14, 13.08it/s]
[36m(vllm-benchmark, pid=7132)[0m  62%|██████▏   | 312/500 [00:48<00:14, 12.64it/s]
[36m(vllm-benchmark, pid=7132)[0m  63%|██████▎   | 316/500 [00:48<00:12, 15.05it/s]
[36m(vllm-benchmark, pid=7132)[0m  64%|██████▎   | 318/500 [00:48<00:14, 13.00it/s]
[36m(vllm-benchmark, pid=7132)[0m  64%|██████▍   | 321/500 [00:48<00:12, 14.23it/s]
[36m(vllm-benchmark, pid=7132)[0m  65%|██████▍   | 324/500 [00:49<00:14, 12.12it/s]
[36m(vllm-benchmark, pid=7132)[0m  65%|██████▌   | 326/500 [00:49<00:18,  9.55it/s]
[36m(vllm-benchmark, pid=7132)[0m  66%|██████▌   | 328/500 [00:50<00:23,  7.20it/s]
[36m(vllm-benchmark, pid=7132)[0m  66%|██████▋   | 332/500 [00:50<00:21,  7.75it/s]
[36m(vllm-benchmark, pid=7132)[0m  67%|██████▋   | 333/500 [00:50<00:26,  6.32it/s]
[36m(vllm-benchmark, pid=7132)[0m  67%|██████▋   | 334/500 [00:51<00:27,  5.98it/s]
[36m(vllm-benchmark, pid=7132)[0m  67%|██████▋   | 337/500 [00:51<00:18,  8.68it/s]
[36m(vllm-benchmark, pid=7132)[0m  68%|██████▊   | 339/500 [00:51<00:15, 10.09it/s]
[36m(vllm-benchmark, pid=7132)[0m  69%|██████▊   | 343/500 [00:51<00:19,  8.20it/s]
[36m(vllm-benchmark, pid=7132)[0m  69%|██████▉   | 345/500 [00:52<00:19,  7.94it/s]
[36m(vllm-benchmark, pid=7132)[0m  69%|██████▉   | 347/500 [00:52<00:18,  8.18it/s]
[36m(vllm-benchmark, pid=7132)[0m  70%|██████▉   | 349/500 [00:52<00:16,  8.98it/s]
[36m(vllm-benchmark, pid=7132)[0m  71%|███████   | 353/500 [00:52<00:11, 13.31it/s]
[36m(vllm-benchmark, pid=7132)[0m  71%|███████   | 355/500 [00:52<00:11, 13.05it/s]
[36m(vllm-benchmark, pid=7132)[0m  72%|███████▏  | 358/500 [00:52<00:08, 15.81it/s]
[36m(vllm-benchmark, pid=7132)[0m  72%|███████▏  | 360/500 [00:53<00:11, 12.38it/s]
[36m(vllm-benchmark, pid=7132)[0m  73%|███████▎  | 365/500 [00:53<00:07, 18.78it/s]
[36m(vllm-benchmark, pid=7132)[0m  74%|███████▎  | 368/500 [00:53<00:07, 18.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  74%|███████▍  | 371/500 [00:53<00:10, 12.63it/s]
[36m(vllm-benchmark, pid=7132)[0m  75%|███████▍  | 373/500 [00:54<00:10, 12.58it/s]
[36m(vllm-benchmark, pid=7132)[0m  75%|███████▌  | 377/500 [00:54<00:07, 16.92it/s]
[36m(vllm-benchmark, pid=7132)[0m  76%|███████▌  | 380/500 [00:54<00:08, 13.78it/s]
[36m(vllm-benchmark, pid=7132)[0m  76%|███████▋  | 382/500 [00:54<00:08, 13.55it/s]
[36m(vllm-benchmark, pid=7132)[0m  77%|███████▋  | 384/500 [00:54<00:07, 14.51it/s]
[36m(vllm-benchmark, pid=7132)[0m  77%|███████▋  | 386/500 [00:54<00:07, 15.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 388/500 [00:55<00:06, 16.23it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 390/500 [00:55<00:06, 16.90it/s]
[36m(vllm-benchmark, pid=7132)[0m  78%|███████▊  | 392/500 [00:55<00:09, 11.66it/s]
[36m(vllm-benchmark, pid=7132)[0m  79%|███████▉  | 394/500 [00:55<00:10, 10.18it/s]
[36m(vllm-benchmark, pid=7132)[0m  79%|███████▉  | 396/500 [00:55<00:08, 11.81it/s]
[36m(vllm-benchmark, pid=7132)[0m  80%|███████▉  | 398/500 [00:55<00:08, 12.19it/s]
[36m(vllm-benchmark, pid=7132)[0m  80%|████████  | 400/500 [00:56<00:08, 12.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  80%|████████  | 402/500 [00:56<00:07, 12.59it/s]
[36m(vllm-benchmark, pid=7132)[0m  81%|████████  | 404/500 [00:56<00:11,  8.09it/s]
[36m(vllm-benchmark, pid=7132)[0m  81%|████████▏ | 407/500 [00:56<00:08, 11.30it/s]
[36m(vllm-benchmark, pid=7132)[0m  82%|████████▏ | 409/500 [00:57<00:10,  8.39it/s]
[36m(vllm-benchmark, pid=7132)[0m  82%|████████▏ | 411/500 [00:57<00:09,  9.36it/s]
[36m(vllm-benchmark, pid=7132)[0m  83%|████████▎ | 413/500 [00:57<00:08, 10.23it/s]
[36m(vllm-benchmark, pid=7132)[0m  83%|████████▎ | 416/500 [00:57<00:09,  8.99it/s]
[36m(vllm-benchmark, pid=7132)[0m  84%|████████▍ | 419/500 [00:58<00:07, 10.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  84%|████████▍ | 421/500 [00:58<00:09,  8.73it/s]
[36m(vllm-benchmark, pid=7132)[0m  85%|████████▍ | 424/500 [00:58<00:07,  9.68it/s]
[36m(vllm-benchmark, pid=7132)[0m  85%|████████▌ | 427/500 [00:59<00:07,  9.36it/s]
[36m(vllm-benchmark, pid=7132)[0m  86%|████████▌ | 429/500 [00:59<00:07,  9.58it/s]
[36m(vllm-benchmark, pid=7132)[0m  86%|████████▋ | 432/500 [00:59<00:06, 10.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  87%|████████▋ | 434/500 [00:59<00:08,  7.99it/s]
[36m(vllm-benchmark, pid=7132)[0m  87%|████████▋ | 435/500 [01:00<00:08,  7.82it/s]
[36m(vllm-benchmark, pid=7132)[0m  87%|████████▋ | 437/500 [01:00<00:06,  9.02it/s]
[36m(vllm-benchmark, pid=7132)[0m  88%|████████▊ | 439/500 [01:00<00:06,  9.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  88%|████████▊ | 441/500 [01:00<00:08,  6.96it/s]
[36m(vllm-benchmark, pid=7132)[0m  88%|████████▊ | 442/500 [01:01<00:09,  5.97it/s]
[36m(vllm-benchmark, pid=7132)[0m  89%|████████▉ | 444/500 [01:01<00:11,  4.89it/s]
[36m(vllm-benchmark, pid=7132)[0m  89%|████████▉ | 446/500 [01:02<00:11,  4.59it/s]
[36m(vllm-benchmark, pid=7132)[0m  89%|████████▉ | 447/500 [01:02<00:11,  4.75it/s]
[36m(vllm-benchmark, pid=7132)[0m  90%|████████▉ | 449/500 [01:02<00:09,  5.43it/s]
[36m(vllm-benchmark, pid=7132)[0m  90%|█████████ | 450/500 [01:02<00:08,  5.74it/s]
[36m(vllm-benchmark, pid=7132)[0m  90%|█████████ | 451/500 [01:02<00:08,  6.04it/s]
[36m(vllm-benchmark, pid=7132)[0m  91%|█████████ | 453/500 [01:03<00:06,  7.41it/s]
[36m(vllm-benchmark, pid=7132)[0m  91%|█████████ | 454/500 [01:03<00:06,  7.48it/s]
[36m(vllm-benchmark, pid=7132)[0m  91%|█████████ | 456/500 [01:03<00:05,  7.61it/s]
[36m(vllm-benchmark, pid=7132)[0m  92%|█████████▏| 458/500 [01:03<00:06,  6.56it/s]
[36m(vllm-benchmark, pid=7132)[0m  92%|█████████▏| 460/500 [01:04<00:05,  6.95it/s]
[36m(vllm-benchmark, pid=7132)[0m  92%|█████████▏| 461/500 [01:04<00:05,  6.79it/s]
[36m(vllm-benchmark, pid=7132)[0m  92%|█████████▏| 462/500 [01:04<00:08,  4.23it/s]
[36m(vllm-benchmark, pid=7132)[0m  93%|█████████▎| 463/500 [01:05<00:08,  4.21it/s]
[36m(vllm-benchmark, pid=7132)[0m  93%|█████████▎| 465/500 [01:05<00:06,  5.75it/s]
[36m(vllm-benchmark, pid=7132)[0m  93%|█████████▎| 466/500 [01:05<00:05,  5.85it/s]
[36m(vllm-benchmark, pid=7132)[0m  94%|█████████▎| 468/500 [01:05<00:05,  6.00it/s]
[36m(vllm-benchmark, pid=7132)[0m  94%|█████████▍| 469/500 [01:05<00:05,  6.08it/s]
[36m(vllm-benchmark, pid=7132)[0m  94%|█████████▍| 470/500 [01:06<00:05,  5.84it/s]
[36m(vllm-benchmark, pid=7132)[0m  94%|█████████▍| 472/500 [01:06<00:03,  7.07it/s]
[36m(vllm-benchmark, pid=7132)[0m  95%|█████████▍| 474/500 [01:07<00:06,  4.07it/s]
[36m(vllm-benchmark, pid=7132)[0m  95%|█████████▌| 475/500 [01:07<00:07,  3.35it/s]
[36m(vllm-benchmark, pid=7132)[0m  95%|█████████▌| 476/500 [01:07<00:06,  3.65it/s]
[36m(vllm-benchmark, pid=7132)[0m  96%|█████████▌| 478/500 [01:08<00:05,  3.68it/s]
[36m(vllm-benchmark, pid=7132)[0m  96%|█████████▌| 479/500 [01:08<00:05,  3.74it/s]
[36m(vllm-benchmark, pid=7132)[0m  96%|█████████▌| 480/500 [01:08<00:04,  4.21it/s]
[36m(vllm-benchmark, pid=7132)[0m  96%|█████████▌| 481/500 [01:08<00:04,  4.00it/s]
[36m(vllm-benchmark, pid=7132)[0m  97%|█████████▋| 483/500 [01:10<00:06,  2.56it/s]
[36m(vllm-benchmark, pid=7132)[0m  97%|█████████▋| 484/500 [01:10<00:06,  2.42it/s]
[36m(vllm-benchmark, pid=7132)[0m  97%|█████████▋| 485/500 [01:10<00:05,  2.58it/s]
[36m(vllm-benchmark, pid=7132)[0m  97%|█████████▋| 486/500 [01:11<00:04,  3.11it/s]
[36m(vllm-benchmark, pid=7132)[0m  97%|█████████▋| 487/500 [01:12<00:06,  2.06it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 488/500 [01:13<00:07,  1.53it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 489/500 [01:13<00:06,  1.67it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 490/500 [01:13<00:04,  2.16it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 491/500 [01:15<00:06,  1.33it/s]
[36m(vllm-benchmark, pid=7132)[0m  98%|█████████▊| 492/500 [01:15<00:05,  1.56it/s]
[36m(vllm-benchmark, pid=7132)[0m  99%|█████████▊| 493/500 [01:15<00:03,  1.87it/s]
[36m(vllm-benchmark, pid=7132)[0m  99%|█████████▉| 494/500 [01:15<00:02,  2.32it/s]
[36m(vllm-benchmark, pid=7132)[0m  99%|█████████▉| 495/500 [01:16<00:01,  2.60it/s]
[36m(vllm-benchmark, pid=7132)[0m  99%|█████████▉| 496/500 [01:16<00:01,  2.26it/s]
[36m(vllm-benchmark, pid=7132)[0m  99%|█████████▉| 497/500 [01:19<00:03,  1.06s/it]
[36m(vllm-benchmark, pid=7132)[0m 100%|█████████▉| 498/500 [01:19<00:01,  1.28it/s]
[36m(vllm-benchmark, pid=7132)[0m 100%|█████████▉| 499/500 [01:20<00:00,  1.20it/s]
100%|██████████| 500/500 [01:21<00:00,  1.16it/s]
100%|██████████| 500/500 [01:21<00:00,  6.15it/s]
[36m(vllm-benchmark, pid=7132)[0m ============ Serving Benchmark Result ============
[36m(vllm-benchmark, pid=7132)[0m Successful requests:                     500       
[36m(vllm-benchmark, pid=7132)[0m Benchmark duration (s):                  81.33     
[36m(vllm-benchmark, pid=7132)[0m Total input tokens:                      102975    
[36m(vllm-benchmark, pid=7132)[0m Total generated tokens:                  107666    
[36m(vllm-benchmark, pid=7132)[0m Request throughput (req/s):              6.15      
[36m(vllm-benchmark, pid=7132)[0m Output token throughput (tok/s):         1323.74   
[36m(vllm-benchmark, pid=7132)[0m Total Token throughput (tok/s):          2589.81   
[36m(vllm-benchmark, pid=7132)[0m ---------------Time to First Token----------------
[36m(vllm-benchmark, pid=7132)[0m Mean TTFT (ms):                          164.02    
[36m(vllm-benchmark, pid=7132)[0m Median TTFT (ms):                        147.54    
[36m(vllm-benchmark, pid=7132)[0m P99 TTFT (ms):                           329.05    
[36m(vllm-benchmark, pid=7132)[0m -----Time per Output Token (excl. 1st token)------
[36m(vllm-benchmark, pid=7132)[0m Mean TPOT (ms):                          71.83     
[36m(vllm-benchmark, pid=7132)[0m Median TPOT (ms):                        72.78     
[36m(vllm-benchmark, pid=7132)[0m P99 TPOT (ms):                           104.14    
[36m(vllm-benchmark, pid=7132)[0m ---------------Inter-token Latency----------------
[36m(vllm-benchmark, pid=7132)[0m Mean ITL (ms):                           68.06     
[36m(vllm-benchmark, pid=7132)[0m Median ITL (ms):                         55.41     
[36m(vllm-benchmark, pid=7132)[0m P99 ITL (ms):                            161.89    
[36m(vllm-benchmark, pid=7132)[0m ==================================================
[36m(vllm-benchmark, pid=7132)[0m + sleep 6
[36m(vllm-benchmark, pid=7132)[0m uv run --with rich --with pandas extract-result.py results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m Loading results from /home/ubuntu/vLLM-Benchmark/results/deepseek-r1
[36m(vllm-benchmark, pid=7132)[0m Found 5 JSON files
[36m(vllm-benchmark, pid=7132)[0m Processing vllm-30000-100-.json
[36m(vllm-benchmark, pid=7132)[0m Processing vllm-sharegpt-.json
[36m(vllm-benchmark, pid=7132)[0m Processing vllm-10000-500-.json
[36m(vllm-benchmark, pid=7132)[0m Processing vllm-5000-1000-.json
[36m(vllm-benchmark, pid=7132)[0m Processing vllm-1000-2000-.json
[36m(vllm-benchmark, pid=7132)[0m Successfully loaded data with columns: ['backend', 'input_tokens', 
[36m(vllm-benchmark, pid=7132)[0m 'output_tokens', 'output_toks/s']
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m Data Preview:
[36m(vllm-benchmark, pid=7132)[0m   backend input_tokens output_tokens  output_toks/s
[36m(vllm-benchmark, pid=7132)[0m 0    vllm        30000           100      37.030036
[36m(vllm-benchmark, pid=7132)[0m 1    vllm     sharegpt      sharegpt    1323.743725
[36m(vllm-benchmark, pid=7132)[0m 2    vllm        10000           500     440.847598
[36m(vllm-benchmark, pid=7132)[0m 3    vllm         5000          1000     846.071516
[36m(vllm-benchmark, pid=7132)[0m 4    vllm         1000          2000    1124.662662
[36m(vllm-benchmark, pid=7132)[0m 
[36m(vllm-benchmark, pid=7132)[0m   input_tokens output_tokens  vllm_output_toks/s
[36m(vllm-benchmark, pid=7132)[0m 0         1000          2000         1124.662662
[36m(vllm-benchmark, pid=7132)[0m 1         5000          1000          846.071516
[36m(vllm-benchmark, pid=7132)[0m 2        10000           500          440.847598
[36m(vllm-benchmark, pid=7132)[0m 3        30000           100           37.030036
[36m(vllm-benchmark, pid=7132)[0m 4     sharegpt      sharegpt         1323.743725
[36m(vllm-benchmark, pid=7132)[0m   Benchmark Comparison for vLLM (Output   
[36m(vllm-benchmark, pid=7132)[0m                 Tokens/s)                 
[36m(vllm-benchmark, pid=7132)[0m ┏━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━┓
[36m(vllm-benchmark, pid=7132)[0m ┃ Input Tokens ┃ Output Tokens ┃    vLLM ┃
[36m(vllm-benchmark, pid=7132)[0m ┡━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━┩
[36m(vllm-benchmark, pid=7132)[0m │         1000 │          2000 │ 1124.66 │
[36m(vllm-benchmark, pid=7132)[0m │         5000 │          1000 │  846.07 │
[36m(vllm-benchmark, pid=7132)[0m │        10000 │           500 │  440.85 │
[36m(vllm-benchmark, pid=7132)[0m │        30000 │           100 │   37.03 │
[36m(vllm-benchmark, pid=7132)[0m │     sharegpt │      sharegpt │ 1323.74 │
[36m(vllm-benchmark, pid=7132)[0m └──────────────┴───────────────┴─────────┘
[36m(vllm-benchmark, pid=7132)[0m             Model: deepseek-r1            
[36m(vllm-benchmark, pid=7132)[0m ----- CSV for Easy Plotting -----
[36m(vllm-benchmark, pid=7132)[0m input_tokens,output_tokens,vllm_output_toks/s
[36m(vllm-benchmark, pid=7132)[0m 1000,2000,1124.6626624082273
[36m(vllm-benchmark, pid=7132)[0m 5000,1000,846.0715164562083
[36m(vllm-benchmark, pid=7132)[0m 10000,500,440.8475980156135
[36m(vllm-benchmark, pid=7132)[0m 30000,100,37.03003566917183
[36m(vllm-benchmark, pid=7132)[0m sharegpt,sharegpt,1323.7437245036924
[36m(vllm-benchmark, pid=7132)[0m 
[0m[32m✓ Job finished (status: SUCCEEDED).[0m
